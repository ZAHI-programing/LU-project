<!DOCTYPE html>
<html>
  <head>


    <style>
        .footer{
            background-color: rgb(175, 175, 175);
            text-align: center;
            border-style: dotted;
            border-radius: 10px;
            position: fixed;
            bottom: 10px;
            right: 10px;
            padding: 10px;
        }

        .dark_mode .footer{
            background-color: #555;
        }
        
#cart-items {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.cart-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 15px;
    background: #f3f3f3;
    padding: 10px;
    border-radius: 10px;
}

.cart-item img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 8px;
}

.remove-btn {
    padding: 5px 10px;
    background-color: #ff4d4d;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: 0.2s;
}

.remove-btn:hover {
    background-color: #e60000;
}

#reset-cart {
    padding: 10px 20px;
    background-color: #ff4d4d;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    transition: 0.2s;
}

#reset-cart:hover {
    background-color: #e60000;
}
</style>

  </head>
  <body>
   <h2>Your Cart</h2>
<div id="cart-items"></div>
<h3 id="total"></h3>

<!-- RESET BUTTON -->
<div style="margin-top: 20px; text-align: center;">
    <a href="./buy.html"><button id="reset-cart">Reset Cart</button></a>
</div>

<!-- BUY BUTTON -->
<div style="margin-top: 20px; text-align: center;">
    <button id="buy-now" style="
        padding: 12px 25px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 18px;
        transition: 0.2s;
    ">
        Buy Now
    </button>
</div>

    
    <div class="footer">
        <h3 class="footer1"><span style="font-family: 'Courier New', monospace;">Designed by <br>Zahi & Charbel Rached</span></h3>
    </div>


<script>
// Load cart from localStorage or create empty array
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function loadCart() {
    const container = document.getElementById("cart-items");
    container.innerHTML = "";

    let total = 0;

    cart.forEach((item, index) => {
        total += item.price;

        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
            <img src="${item.img}" alt="${item.name}">
            <p>${item.name} â€” $${item.price}</p>
            <button class="remove-btn" data-index="${index}">Remove</button>
        `;
        container.appendChild(div);
    });

    document.getElementById("total").textContent = "Total: $" + total;

    // Add event listeners for remove buttons
    document.querySelectorAll(".remove-btn").forEach(btn => {
        btn.addEventListener("click", function() {
            const idx = this.getAttribute("data-index");
            cart.splice(idx, 1); // remove the selected item
            localStorage.setItem("cart", JSON.stringify(cart));
            loadCart(); // refresh cart UI
        });
    });
}

// Reset Cart Button
document.getElementById("reset-cart").addEventListener("click", () => {
    localStorage.removeItem("cart"); // clear localStorage
    cart = [];                        // clear cart array in memory
    loadCart();                       // refresh cart UI
});

loadCart();

// BUY BUTTON
document.getElementById("buy-now").addEventListener("click", () => {
    if (cart.length === 0) {
        alert("Your cart is empty.");
        return;
    }

    alert("Thank you for your purchase!");
    localStorage.removeItem("cart");
    cart = [];
    loadCart();
});

</script>



  </body>
</html>

